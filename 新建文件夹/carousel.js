+function(t){"use strict";function e(){var t=document.createElement("wei"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var s in e)if(void 0!==t.style[s])return{end:e[s]};return!1}t.fn.emulateTransitionEnd=function(e){var s=!1,i=this;t(this).one("bsTransitionEnd",function(){s=!0});var a=function(){s||t(i).trigger(t.support.transition.end)};return setTimeout(a,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t,e,s,i){function a(){for(var t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],s=!0,i=0;i<e.length;i++)if(t.indexOf(e[i])>0){s=!1;break}return s}function n(e,s,i){var a=t(e).parents(".items-container"),n='<div class="items-a"><video class="items-img" " controls="controls" preload="metadata" src="'+s[i].url+'"poster="'+s[i].poster+'"></video></div>';t(a).append(n);var r=t(".js-video"),l=t("video.items-img").get(0);l.play(),t(l).on("playing",function(){t(l).hasClass("small")&&t(l).removeClass("small"),t(r).hide()}),t(l).on("pause",function(){l.pause(),t(r).show(),t(l).addClass("small")})}function r(){var e=t(".js-video");t(e).show();var s=t(e).parents(".items-container");t(s).find("div.items-a").remove()}function l(e,s,i,a){var n=0,r='<div class="wei-carousel-ctrls"><a href="javascript:;" class="ctrls-a-l"><span class="ctrls-l"></span></a><a href="javascript:;" class="ctrls-a-r"><span class="ctrls-r"></span></a></div>',l='<div class="wei-carousel-items">',o='<ol class="wei-carousel-btns">',c="",d="";return 0!=a.length&&(d='<div class="wei-carousel-captions">'+a[0]+"</div>"),s&&(c+=r),!(!e||e.length<=0)&&(t.each(e,function(t){l+='<div class="items-container">',"string"==typeof e[t]?l+='<a href="javascript:;" class="items-a"><img src="'+e[t]+'" class="items-img"/></a>':(n=t,l+='<a href="javascript:;" class="items-a cal-video js-video"><img src="'+e[t].poster+'" class="items-img"/><img src="'+e[t].play+'" class="items-img play"/></a>'),l+="</div>",o+="<li></li>"}),l+="</div>",o+="</ol>",c+=i?l+o:l,c+=d,this.html(c),this.find(".items-container").eq(0).addClass("active"),this.find(".wei-carousel-btns li:first-child").addClass("active"),n)}function o(e){return this.each(function(){var s=t(this).data("wei.carousel"),i=t.extend({},t(this).data(),"object"==typeof e&&e);s||t(this).data("wei.carousel",s=new c(this,i)),i.interval&&s.pause().cycle()})}var c=function(e,s){this.defaults={interval:2e3,pause:"hover",wrap:!0,data:[],hasCtrls:!0,hasBtns:!0,txt_data:"",height:!1};var r=t.extend({},this.defaults,s);this.$element=t(e),this.options=r,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.txt_data=r.txt_data,this.img=this.options.data,this.ctrls=this.options.hasCtrls,this.btns=this.options.hasBtns;var o=0;o=l.call(this.$element,this.img,this.ctrls,this.btns,this.txt_data),t(".js-video").on("click",{obj:this.img},function(e){n(t(this),t(e.data.obj),o)}),a()||this.$element.height(this.$element.width()),!this.options.height,t("video.items-img").length>0&&t("video.items-img").height(this.$element.width()),this.$indicators=this.$element.find(".wei-carousel-btns");var c=this.$element.find(".ctrls-a-l"),h=this.$element.find(".ctrls-a-r");this.$items=this.$indicators.find("li"),t(c).on("click",t.proxy(this.prev,this)),t(h).on("click",t.proxy(this.next,this)),t(this.$items).on("click",{obj:this.$element},d);var u=new i(this.$element[0]);return u.on("panleft",t.proxy(this.next,this)),u.on("panright",t.proxy(this.prev,this)),this};t.fn.carousel=o;var d=function(e){var s=t(e.data.obj),i=s.data(),a=t(this).index();a>=0&&(i.interval=!1),o.call(s,i),a>=0&&s.data("wei.carousel").to(a),e.preventDefault()};c.prototype={slide:function(e,s){var i=this.$element.find(".items-container.active"),a=s||this.getItemForDirection(e,i),n=this.interval,l="next"==e?"left":"right",o=this;if(a.hasClass("active"))return this.sliding=!1;var c=a[0],d=t.Event("slide.wei.carousel",{relatedTarget:c,direction:l});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,n&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(a)]);h&&h.addClass("active")}var u=t.Event("slid.wei.carousel",{relatedTarget:c,direction:l});a.addClass(e),a[0].offsetWidth,i.addClass(l),a.addClass(l),i.one("bsTransitionEnd",function(){a.removeClass([e,l].join(" ")).addClass("active"),i.removeClass(["active",l].join(" ")),o.sliding=!1,setTimeout(function(){o.$element.trigger(u)},0)}).emulateTransitionEnd(600),n&&this.cycle();var v=this.getItemIndex(i);return t(".wei-carousel-captions").length>0&&0!=this.txt_data.length&&("left"==l?(v>=this.$items.length-1&&(v=-1),t(".wei-carousel-captions").html(this.txt_data[v+1])):(v<=0&&(v=this.$items.length),t(".wei-carousel-captions").html(this.txt_data[v-1]))),r(),this}},getItemIndex:function(t){return this.$items=t.parent().children(".items-container"),this.$items.index(t||this.$active)},getItemForDirection:function(t,e){var s=this.getItemIndex(e),i="prev"==t&&0===s||"next"==t&&s==this.$items.length-1;if(i&&!this.options.wrap)return e;var a="prev"==t?-1:1,n=(s+a)%this.$items.length;return this.$items.eq(n)},cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},to:function(t){var e=this;this.$active=this.$element.find(".items-container.active");var s=this.getItemIndex(this.$active);if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.wei.carousel",function(){e.to(t)}):s==t?this.pause().cycle():this.slide(t>s?"next":"prev",this.$items.eq(t))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this}},t.fn.carousel.pubFunc=function(){console.log("pubFunc")}}(jQuery,window,document,Hammer),function(t,e){t.fn.carousel_h=function(s){var i=t.extend({startIndex:0,li:"li",visibleCount:6,step:.5,rotateY:0,translateZ:100,preventTouchEvent:!1,style:"double",resizeEvent:!1},s);return t(this).each(function(){function s(t){return(t+h)%h}function a(t){var e=p/2,a=1,n=0,r=0;if(t=s(t),c.removeClass("js-carousel-li-visible").eq(t).addClass("js-carousel-li-visible js-carousel-li-cur").css({"-webkit-transform":"none","z-index":1e3}),"double"===i.style)for(a;a<=e;a++)n=s(t-a),r=s(t+a),c.eq(n).addClass("js-carousel-li-visible").css({"z-index":1e3-a,"-webkit-transform":"translateX("+-i.step*v*a+"px) translateZ(-"+i.translateZ*a+"px)  rotateY("+i.rotateY+"deg)"}),c.eq(r).addClass("js-carousel-li-visible").css({"z-index":1e3-a,"-webkit-transform":"translateX("+i.step*v*a+"px) translateZ(-"+i.translateZ*a+"px) rotateY(-"+i.rotateY+"deg)"});else if("left"===i.style)for(e=p,a;a<e;a++)r=s(t+a),c.eq(r).addClass("js-carousel-li-visible").css({"z-index":1e3-a,"-webkit-transform":"translateX("+i.step*v*a+"px) translateZ(-"+i.translateZ*a+"px) rotateY(-"+i.rotateY+"deg)"});else if("right"===i.style)for(e=p,a;a<e;a++)n=s(t-a),c.eq(n).addClass("js-carousel-li-visible").css({"z-index":1e3-a,"-webkit-transform":"translateX("+-i.step*v*a+"px) translateZ(-"+i.translateZ*a+"px) rotateY("+i.rotateY+"deg)"});else if("o"===i.style){v/2/Math.tan(30/180*Math.PI);for(a;a<=e;a++)switch(n=s(t-a),r=s(t+a),c.eq(n).addClass("js-carousel-li-visible").css({"z-index":1e3-a,"-webkit-transform":"translateX("+-i.step*a+"px) translateZ(-"+i.translateZ*a+"px)  rotateY("+i.rotateY+"deg)"}),c.eq(r).addClass("js-carousel-li-visible").css({"z-index":1e3-a,"-webkit-transform":"translateX("+i.step*a+"px) translateZ(-"+i.translateZ*a+"px) rotateY(-"+i.rotateY+"deg)"}),a){case 0:c.eq(a).addClass("js-carousel-li-visible").css({"z-index":1e3-a,"-webkit-transform":"translateX(0px) translateZ(-0px)  rotateY("+i.rotateY+"deg)"});break;case 1:c.eq(a).addClass("js-carousel-li-visible").css({"z-index":1e3-a,"-webkit-transform":"translateX(-37.5px) translateZ(-65px)  rotateY("+i.rotateY+"deg)"});break;case 2:c.eq(a).addClass("js-carousel-li-visible").css({"z-index":1e3-a,"-webkit-transform":"translateX(-37.5px) translateZ(-195px)  rotateY("+i.rotateY+"deg)"});break;case 3:c.eq(a).addClass("js-carousel-li-visible").css({"z-index":1e3-a,"-webkit-transform":"translateX(0px) translateZ(-260px)  rotateY("+i.rotateY+"deg)"});break;case 4:c.eq(a).addClass("js-carousel-li-visible").css({"z-index":1e3-a,"-webkit-transform":"translateX(37.5px) translateZ(-195px)  rotateY("+i.rotateY+"deg)"});break;case 5:c.eq(a).addClass("js-carousel-li-visible").css({"z-index":1e3-a,"-webkit-transform":"translateX(-37.5px) translateZ(-65px)  rotateY("+i.rotateY+"deg)"})}}else if("circle"===i.style)for(a;a<=e;a++)n=s(t-a),r=s(t+a),c.eq(n).addClass("js-carousel-li-visible").css({"z-index":1e3-a,"-webkit-transform":"translateX("+-i.step*v*a+"px) translateZ(-"+i.translateZ*a+"px)  rotateY("+i.rotateY+"deg)"}),c.eq(r).addClass("js-carousel-li-visible").css({"z-index":1e3-a,"-webkit-transform":"translateX("+i.step*v*a+"px) translateZ(-"+i.translateZ*a+"px) rotateY(-"+i.rotateY+"deg)"});u=t}function n(){v=o.width(),a(u),d=c.filter(".js-carousel-li-cur").height(),o.height(d)}function r(){if(c.addClass("js-carousel-li"),"circle"!==i.style){var s=new e(o[0]);s.on("swipeleft",function(){a(u+1)}),s.on("swiperight",function(){a(u-1)})}t(document).ready(function(t){n()}),i.resizeEvent&&t(window).on("resize",function(t){n()}),i.preventTouchEvent&&(o.on("touchstart",function(t){t.preventDefault()}),o.on("touchmove",function(t){t.preventDefault()}))}var l=t(this),o=l,c=t(i.li,l),d=c.height(),h=c.length,u=i.startIndex,v=o.width(),p=i.visibleCount;p>h&&(p=h),r()})}}(jQuery,Hammer);