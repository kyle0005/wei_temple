<!doctype html>
<html lang="">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="black" name="apple-mobile-web-app-status-bar-style">
  <meta name="format-detection" content="telephone=no">
  <title>demo</title>
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <!-- build:css styles/main.css -->
  <link rel="stylesheet" href="public/styles/main.css">
  <!-- endbuild -->
</head>
<body>
<div class="wei-container2">
  <header class="wei-head clearfix">
    <a href="javascript:;" class="wei-arr-container"><span class="wei-arrow-left"></span></a>
    <span>手机号码快捷登录</span>
  </header>
  <section class="wei-content">
    <form action="">
      <div class="bind-container">
        <div class="form-data">
          <ul>
            <li class="items clearfix">
              <div class="left">
                <img src="public/img/phone.png" >
              </div>
              <div class="right">
                <input type="text" class="" placeholder="请输入您的手机号"/>
                <div class="get-code">
                  <a href="javascript:;" class="js-valCode">获取验证码</a>
                </div>
              </div>
            </li>
            <li class="items clearfix">
              <div class="left">
                <img src="public/img/letter.png" >
              </div>
              <div class="right">
                <input type="text" class="val-code" placeholder="请输入验证码"/>
              </div>
            </li>
          </ul>
        </div>
      </div>
      <div class="bind-btn">
        <a href="javascript:;">登录</a>
      </div>
    </form>
  </section>
</div>
<div class="pop-mask hide" id="pop-mask">
  <div class="pop-container">
    <div class="pop-txt" id="pop-txt">
      提交成功
    </div>
    <div class="pop-btn">
      <!--<a href="javascript:;" class="cancel" id="cancel">取消</a>-->
      <a href="javascript:;" class="ok" id="ok">确定</a>
    </div>
  </div>
</div>
<!-- build:js scripts/main.js -->
<script src="public/scripts/jquery-3.0.0.js"></script>
<!-- endbuild -->
<script>
  $(function () {
    $valCode = $('.js-valCode');
    $valCode.on('click',function () {
      wait_click($(this));
    });

    function wait_click(){
      $valCode = $('.js-valCode');
      var num = 10;
      $valCode.addClass('code-mask')
      var timer = setInterval(function () {
        $valCode.off('click');
        $valCode.text( num + '秒后重新获取' );
        num--;
        if (num < 0) {
          clearTimeout(timer);
          $valCode.text('获取验证码');
          $valCode.removeClass('code-mask');
          $valCode.on('click',function(){
            wait_click();
          });
        }
      },1000);
    }

    var pop = function () {
      var mask = $('#pop-mask');
      if(mask.hasClass('hide')){
        mask.removeClass('hide');
      }else {
        mask.addClass('hide');
      }

    };
    var closePop = function () {
      var mask = $('#pop-mask');
      mask.addClass('hide');
    };

    $(document).on('click', '.bind-btn', function () {
      pop();
    });
    $(document).on('click', '#ok', function () {
      closePop();
    });

  });

</script>
</body>
</html>
